#+TITLE: mail
* with mu4e
mu - mail indexing program, all state is stored in maildir.
mu4e - interface for emacs.

mbsync - to read mail, external program
msmtp - to send mail, external program

both of these can be configured from home-manager email options

Since all mail state is stored in maildir, simple syncing via mbsync is enough, same config on all machines should work.

* possible auth
** have sops nix secret put into fs path
(not yet integrated into home-manager, defined on NixOS level, and on Ubuntu+hm secret is created manually)
good:
- server is on NixOS and can make mbsync requests without manual intervention
- when multimachine with muchsync, clients work via ssh and would require "ssh-add" or usage of ssh-keys withoug passphrases, but don't require sops
bad:
- for single machine setup, machine would need to trigger "mbsync" and would need to be able to access sops thing from home-manager
